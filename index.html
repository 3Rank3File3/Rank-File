<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rank+File</title>
    
    <!-- Favicon Setup -->
    <script>
        var link = document.createElement('link');
        link.rel = 'icon';
        link.href = 'media/favicon.png'; // Path to your PNG favicon file
        link.type = 'image/png'; // Specify the type for PNG
        document.getElementsByTagName('head')[0].appendChild(link);
    </script>
    
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }

        .full-bleed-image {
            width: 100vw;
            height: 100vh;
            background-image: url('media/raf3.jpg'); /* Replace with your image path */
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            cursor: pointer;
            transition: filter 3s ease; /* Smooth transition for grayscale effect */
        }

        .grayscale {
            filter: grayscale(100%);
        }
    </style>

    <script>
        function applyGrayscaleEffect() {
            setTimeout(function() {
                document.querySelector('.full-bleed-image').classList.add('grayscale');
            }, 1000); // Delay of 1 second
        }

        // Apply grayscale on page load
        window.onload = applyGrayscaleEffect;

        // Listen for visibility change (when switching tabs)
        document.addEventListener('visibilitychange', function() {
            if (!document.hidden) {
                // Reset the grayscale effect when the user comes back to the tab
                document.querySelector('.full-bleed-image').classList.remove('grayscale');
                applyGrayscaleEffect(); // Reapply the effect
            }
        });

        // Idle timeout setup
        let idleTimeout;

        function resetIdleTimer() {
            clearTimeout(idleTimeout); // Clear any existing idle timer
            idleTimeout = setTimeout(function() {
                // Reset grayscale if idle for 5 minutes (300000 ms)
                document.querySelector('.full-bleed-image').classList.remove('grayscale');
                applyGrayscaleEffect(); // Reapply the effect
            }, 300000); // 5 minutes of idle time
        }

        // Listen for user interaction to reset the idle timer
        document.addEventListener('mousemove', resetIdleTimer);
        document.addEventListener('keydown', resetIdleTimer);

        // Initialize the idle timer
        resetIdleTimer();
    </script>
</head>
<body>
    <div class="full-bleed-image" onclick="location.href='c'"></div>
</body>
</html>
