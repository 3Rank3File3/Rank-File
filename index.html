<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rank+File</title>
    
    <!-- Favicon Setup -->
    <script>
        var link = document.createElement('link');
        link.rel = 'icon';
        link.href = 'media/favicon.png'; // Path to your PNG favicon file
        link.type = 'image/png'; // Specify the type for PNG
        document.getElementsByTagName('head')[0].appendChild(link);
    </script>
    
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }

        .full-bleed-image {
            width: 100vw;
            height: 100vh;
            background-image: url('media/raf3.jpg'); /* Replace with your image path */
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            cursor: pointer;
            transition: filter 3s ease; /* Slower initial transition for grayscale effect */
        }

        .grayscale {
            filter: grayscale(100%);
            transition: filter 1.5s ease; /* Smooth reversion to grayscale */
        }

        .color {
            filter: grayscale(0); /* Fully revert to color */
            transition: filter 0.5s ease; /* Faster transition back to color for mobile */
        }

/* Full container centered using flexbox */
body, html {
    margin: 0;
    padding: 0;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center; /* Center content vertically */
    overflow: hidden;
}

/* Updated image link container */
.image-link-container {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: auto;
    max-width: 80vw; /* Ensure the image doesn’t exceed 80% of the viewport width */
    max-height: 80vh; /* Ensure the image doesn’t exceed 80% of the viewport height */
    cursor: pointer;
}

/* Image adjustments */
.image-link-container img {
    width: 100%;
    height: auto;
    object-fit: contain; /* Maintains aspect ratio */
}

/* Adjustments for large screens and landscape mode */
@media (min-width: 1024px) {
    .image-link-container {
        max-width: 50vw; /* Reduce the max-width for larger screens */
        max-height: 50vh; /* Also reduce max-height for larger screens */
    }
}

/* Specific adjustments for landscape orientation */
@media (orientation: landscape) {
    .image-link-container {
        max-width: 30vw; /* Adjust to smaller width in landscape */
        max-height: 30vh; /* Ensure it doesn’t get too large vertically */
    }
}

    </style>

    <script>
        function applyGrayscaleEffect() {
            setTimeout(function() {
                document.querySelector('.full-bleed-image').classList.add('grayscale');
            }, 2000); // Delay of 2 seconds for the initial grayscale effect
        }

        // Apply grayscale on page load
        window.onload = applyGrayscaleEffect;

        // Detect when the mouse leaves the window or element and revert to color
        document.addEventListener('mouseleave', revertToColor);
        document.addEventListener('mouseout', revertToColor); // Extra support for Safari

        function revertToColor() {
            document.querySelector('.full-bleed-image').classList.remove('grayscale');
            document.querySelector('.full-bleed-image').classList.add('color'); // Reapply color when mouse leaves
        }

        // Reapply grayscale effect when the mouse re-enters the window or element
        document.addEventListener('mouseenter', function() {
            document.querySelector('.full-bleed-image').classList.remove('color');
            setTimeout(function() {
                document.querySelector('.full-bleed-image').classList.add('grayscale');
            }, 0); // Reapply grayscale immediately on re-enter
        });

        // For mobile: Detect touch start to return to color
        document.addEventListener('touchstart', function() {
            document.querySelector('.full-bleed-image').classList.remove('grayscale');
            document.querySelector('.full-bleed-image').classList.add('color'); // Faster return to color on touch
        });

        // Reapply grayscale on touch end
        document.addEventListener('touchend', function() {
            document.querySelector('.full-bleed-image').classList.remove('color');
            setTimeout(function() {
                document.querySelector('.full-bleed-image').classList.add('grayscale');
            }, 500); // Quick transition back to grayscale after touch ends
        });
    </script>
</head>
<body>
    <!-- Full Bleed Background Image -->
    <div class="full-bleed-image" onclick="location.href='c'"></div>

    <!-- Centered Image Link -->
    <div class="image-link-container" onclick="location.href='https://ra.co/events/2094946'">
        <img src="media/rf001.jpg" alt="Image Description">
    </div>
</body>
</html>
